!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){},function(e,t,n){"use strict";n.r(t);n(0);var o=e=>({getName:()=>e}),l=(e,t,n,o,l=!1)=>{const d=()=>({title:e,description:t,dueDate:n,priority:o,completed:l});return{getTodo:d,changeStatus:()=>d().completed=!d().completed}};const d=()=>{let e=document.getElementById("new-project"),t=document.getElementById("new-todo"),n=document.getElementById("projects"),o=document.getElementById("todos"),l=document.querySelector('input[name="project-title"]');return{newProject:e,newTodo:t,projects:n,todos:o,title:document.querySelector('input[name="title"]'),description:document.querySelector('input[name="description"]'),dueDate:document.querySelector('input[name="due-date"]'),select:document.querySelector('select[name="priority"]'),projectTitle:l}};const r=(e,t)=>{e.addEventListener("click",e=>{t.disabled=!1,e.preventDefault()})};function i(e){const t=d().newTodo.rel;console.log(t);const n=d().todos,o=document.createElement("li"),l=document.createElement("form");l.classList.add("todo-form");const i=document.createElement("div");i.classList.add("todo-title");const s=document.createElement("input");s.type="text",s.value=e.title,s.disabled=!0,i.appendChild(s),r(i,s);const u=document.createElement("div"),p=document.createElement("textarea");p.disabled=!0,p.value=e.description,u.appendChild(p),r(u,p);const m=document.createElement("input");m.disabled=!0,m.value=e.dueDate,m.type="date";const g=document.createElement("div");g.appendChild(m),r(g,m);const v=document.createElement("select");v.disabled=!0;const f=document.createElement("option"),h=document.createElement("option"),E=document.createElement("option");switch(f.value="high",f.textContent="High",h.value="medium",h.textContent="Medium",E.value="low",E.textContent="Low",e.priority){case"high":f.selected=!0;break;case"medium":h.selected=!0;break;default:E.selected=!0}v.appendChild(f),v.appendChild(h),v.appendChild(E),l.appendChild(i),l.appendChild(u),l.appendChild(g);const S=document.createElement("div"),C=document.createElement("button"),b=document.createElement("span");C.addEventListener("click",e=>{let n=JSON.parse(localStorage.getItem(t));const o=e.target.parentNode.previousElementSibling.previousElementSibling.childNodes[0].childNodes[0].value;let l=n.filter(e=>e.title!==o);c(),a(l),localStorage.setItem(t,JSON.stringify(l)),e.preventDefault()}),C.classList.add("remove"),C.textContent="Delete";const y=document.createElement("button");y.addEventListener("click",e=>{let n,o=JSON.parse(localStorage.getItem(t));o.forEach((t,o)=>{console.log(e.target.parentNode.previousElementSibling.previousElementSibling.childNodes[0].childNodes[0].value);const l=e.target.parentNode.previousElementSibling.previousElementSibling.childNodes[0].childNodes[0].value;console.log(e.target.parentNode.previousElementSibling.previousElementSibling.previousElementSibling),t.title===l&&(n=o)}),o[n].completed=!0,c(),a(o),localStorage.setItem(t,JSON.stringify(o)),e.preventDefault()}),y.classList.add("status"),y.textContent="done";const j=document.createElement("div");j.classList.add("todo-details"),e.completed?b.textContent="Done":b.textContent="Missing",j.appendChild(v),j.appendChild(b),r(j,v),l.appendChild(j),S.appendChild(C),S.appendChild(y),o.appendChild(l),o.appendChild(j),o.appendChild(S).classList.add("todo-actions"),n.appendChild(o)}const c=()=>{if(d().todos.childNodes){let e=d().todos.lastElementChild;for(;e;)d().todos.removeChild(e),e=d().todos.lastElementChild}},a=e=>{e.forEach(e=>{e&&i(e)})};var s={domComponents:d,renderObject:function(e){const t=document.createElement("li");t.classList.add("project-title");const n=d().projects;t.textContent=e,t.addEventListener("click",e=>{console.log(e.target.textContent);let t=e.target.textContent;d().newTodo.rel=t;let n=JSON.parse(localStorage.getItem(t));c(),a(n),e.preventDefault()}),n.appendChild(t).classList.add("project-item")},renderTodos:i,clearList:c,renderTodoList:a};const u=e=>{o(e),s.renderObject(e),localStorage.setItem(e,JSON.stringify([]))},p=e=>{s.domComponents().newTodo.rel=e};var m=u,g=e=>{const t=s.domComponents(),n=t.newTodo.rel,o=JSON.parse(localStorage.getItem(n)),d=t.title.value,r=t.description.value,i=t.dueDate.value,c=t.select.options[t.select.options.selectedIndex].value,a=l(d,r,i,c).getTodo();o.push(a),localStorage.setItem(n,JSON.stringify(o)),s.renderTodos(a)},v=()=>{const e=localStorage.getItem("default");if(e){console.log("exists");const t=JSON.parse(e);p("default"),s.renderObject("default"),s.renderTodoList(t)}else p("default"),u("default")};const f=s.domComponents();v(),f.newProject.addEventListener("click",e=>{let t=f.projectTitle.value;t?(m(t),f.projectTitle.value="",f.newTodo.rel=t,s.clearList(),e.preventDefault()):alert("You should provide a project title"),e.preventDefault()}),f.newTodo.addEventListener("click",e=>{g(e),e.preventDefault()})}]);